<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="Members">
 	<insert id="insertMember" parameterType="member">
 		insert into members
 		(id, password, name, phone, address, email, birth, gender, userkey)
 		values(#{id}, #{password}, #{name}, #{phone}, #{address}, #{email}, #{birth}, #{gender}, 1)
 	</insert>
 	
 	<select id="idcheck" parameterType="String" resultType="String">
 		select count(*) from members
 		where id = #{id}
 	</select>
 	
 	<select id="isId" parameterType="member" resultType="int">
 		select count(*) from members
 		where id = #{id} and password = #{password}
 	</select>
 	
 	<select id="getlistcount" resultType="int">
 		select count(*) from members
 	</select>
 	
 	<select id="getmemlist" parameterType="int" resultType="member">
 		select a.*
 		from (select rownum r, m.*
 				from members m
 				order by name) a
 		where a.r between ( ( (#{page}-1)*10)+#{page}) and (#{page}*10)	
 	</select>
 </mapper>